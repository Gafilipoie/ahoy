function routie(a,b){"function"==typeof b?$.router.add("/"+a,b):$.router.go(a)}$(document).ready(function(){if(initApplication(),vSlider=new VerticalSlider,hSlider=new HorizontalSlider,tSlider=new TextSlider,tSlider.init(json_settings),mobile_init(),menu_reposition(),align_logo(),resizeSliders(!0),attachDocumentEvents(),attachMenuEvents(),settings&&(mouseSens=parseFloat(settings.mouse_sens)),"/"==window.location.pathname){routie("/category/our_top_100"),setDocumentTitle("/category/our_top_100")}else routie(window.location.pathname),setDocumentTitle(window.location.pathname);menu_reposition()});function initApplication(){window.baseTitle=document.title.split("---")[1],window.deviceWidth=$("body").width(),window.deviceHeight=$("body").height(),window.isMagicMouse=!1,window.mouseSens=1,window.clientDevice="desktop",window.loader=$("#loader"),window.mousewheelevent=/Firefox/i.test(navigator.userAgent)?"DOMMouseScroll":"mousewheel",window.orientation=Math.floor(deviceWidth/deviceHeight),window.settings=json_settings||null,window.options=json_options||null,window.MobileMenu=$("#mobile-menu"),window.MobileMenu_ul=MobileMenu.find("ul"),window.MobileMenu_li=MobileMenu.find("li"),window.mouseupEventName="mouseup",window.clientGesture=!1,window.appURL="https://"+document.domain+"/",(navigator.userAgent.match(/IEMobile/i)||navigator.userAgent.match(/Opera Mini/i)||navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/iTouch/i))&&(clientDevice="mobile"),navigator.userAgent.match(/iPad/i)&&(clientDevice="ipad",jQuery.fx.interval=50)}function setDocumentTitle(a=""){const b=function(a){return a.toUpperCase().split("_").join(" ")},c=a.split("/"),d=c[3]&&`${b(c[3])} | `||"",e=c[2]&&`${b(c[2])} --- `||"";document.title=d+e+window.baseTitle}function hideLoader(){loader.stop(!0,!1).hide(0)}function mobile_init(){setTimeout(function(){window.scrollTo(0,1)},500),$("body").addClass(clientDevice)}function menu_reposition(){var a=hSlider.getTopDistance()+vSlider.getTitleHeight();$("#left-column").animate({opacity:1},100,"easeOutExpo"),$("#logo").css("padding-top",(hSlider.getTopDistance()-$("#logo").height())/2),$("#logo").css("color",options.primary_text_color),$("#move-menu").css("top",a);var b=Math.min(Math.floor(.49*deviceWidth),699),c=vSlider.getSlideHeight()||Math.floor(.67*b),d=$("#menu li").length,e=(c-70)/d;$("#menu li").css({"line-height":e+"px","font-size":e-4+"px"}),$("#social-instagram-wrapper").css("bottom",(-a-20)/2),$("#social-instagram img").css({width:2*(e-2)+"px",height:2*(e-4)+"px"})}function attachMenuEvents(){$("#menu a:not([rel=\"project-content\"]), #mobile-menu li a:not([rel=\"project-content\"])").each(function(){var a=$(this),b=a.attr("rel"),c=getSlug($(this).text());c=trimString(c);var d="/"+b+"/"+c;a.attr("href",d),routie(b+"/"+c,function(){if(window.menuVisible=!1,$("#menu li a").removeClass("selected"),$("#mobile-menu").hide(),a.addClass("selected"),$("#menu a[href=\""+d+"\"]").addClass("selected"),$("#mobile-menu li a[href=\""+d+"\"]").addClass("selected"),"category"==b)vSlider.slider.html(),hSlider.close(),tSlider.close(),vSlider.open(trimString(c));else{var e=removeUnderscore(trimString(c)),f=$("#menu a:contains('"+e+"')").data("url");vSlider.close(),hSlider.close(),tSlider.tContainer.show(),tSlider.getData(f+"/true")}})}),$("#menu a, #mobile-menu li a").on("click",function(a){return a.preventDefault(),$("#menu a, #mobile-menu li a").removeClass("selected"),routie($(this).attr("href")),$(this).addClass("selected"),!1}),$("#menu a[rel=\"project-content\"], #mobile-menu li a[rel=\"project-content\"]").each(function(){var a=$(this),b=a.attr("rel"),c=a.attr("data-slug"),d=a.attr("data-base"),e=a.attr("data-baseid");routie("category/"+d+"/"+c,function(){return l=$("a[data-catid="+e+"]"),0!=l.length&&void(window.menuVisible=!1,$("#menu li a").removeClass("selected"),$("#mobile-menu").hide(),l.addClass("selected"),vSlider.slider.html(),tSlider.close(),text=l.attr("href"),text=text.replace("/category",""),vSlider.open(trimString(text),trimString(c)),vSlider.activate_hslider_pagc(trimString(c)))})}),Modernizr.touch?$("#mobile-logo").on("touchend",function(){$(this);window.menuVisible?(window.menuVisible=!1,$("#mobile-menu").hide()):($("#mobile-menu").show(),window.menuVisible=!0)}):$("#mobile-logo").on("click",function(){$(this);window.menuVisible?(window.menuVisible=!1,$("#mobile-menu").hide()):($("#mobile-menu").show(),window.menuVisible=!0)})}function showLoader(){if("mobile"==clientDevice)loader.css("left",deviceWidth/2).show(0);else{var a=Math.max($("#vertical-container").offset().left,$("#text-container").offset().left),b=Math.max($("#vertical-container").width(),$("#text-container").width())+15;loader.css("left",a+b/2-10).show(0)}}function attachDocumentEvents(){"mobile"==clientDevice&&$(document).on("touchstart",function(){0==$(window).scrollTop()&&window.scrollTo(0,1)}),$(document).on("keydown",function(a){switch(a.keyCode){case 37:!0==hSlider.isOpen&&!1==hSlider.isSliding&&hSlider.slidePrev(1);break;case 39:!0==hSlider.isOpen&&!1==hSlider.isSliding&&hSlider.slideNext(1);break;case 40:!0==vSlider.isOpen&&!1==vSlider.isSliding&&vSlider.slideNext(1);break;case 38:!0==vSlider.isOpen&&!1==vSlider.isSliding&&vSlider.slidePrev(1);break;case 27:!0==hSlider.isOpen&&hSlider.close();}}),$(document).on("mousedown","img",function(a){a.preventDefault()}),"desktop"!=clientDevice&&(mouseupEventName="touchend"),$(document).on(mouseupEventName,function(a){var b=$(a.target),c=0===b.parents("#horizontal-container").length;vSlider.slider.removeClass("clicked"),hSlider.slider.removeClass("clicked"),tSlider.slider.removeClass("clicked")}),$(window).resize(function(){deviceWidth=$("body").width(),deviceHeight=$("body").height(),resizeSliders(),menu_reposition()}),$(document).trigger("click")}function align_logo(){var a=Math.min(Math.floor(.49*deviceWidth),699),b=Math.floor(.67*a),c=parseInt((deviceHeight-(b+30)-30)/2)+30;$("#logo").css("padding-top",(c-parseInt($("#logo").height()))/2-15),$("#move-menu").css("top",c)}function resizeSliders(a){vSlider.resizeSlider(a),hSlider.resizeSlider(a),tSlider.resizeSlider(a)}function removeUnderscore(a){return a.replace("_"," ")}function getSlug(a){return a=a.replace(/ & /g,"_"),a=a.replace(/& /g,""),a.replace(/ /g,"_")}function getFullImagePath(a){if(null!=a){var b=a.split(".").reverse().shift();return"gif"==b.toLowerCase()||"ipad"==clientDevice||"desktop"==clientDevice?cakeRoot+"img/uploads/desktop/"+a:cakeRoot+"img/uploads/mobile/"+a}}function convertID(a){return parseInt(a.slice(5))}function sleep(a){var b=new Date;for(b.setTime(b.getTime()+a);new Date().getTime()<b.getTime(););}function trimString(a){return a.replace(/^\s+/,"").replace(/\s+$/,"")}
